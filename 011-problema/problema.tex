\section{Problema}
\label{sec:Problema}

Tamanha quantidade de dispositivos conectados pouco acrescenta na vida diária se
humanos ou coisas não puderem simplesmente se encontrar, tanto em ambiente real
quanto virtual é necessário o contato entre as partes para a existência de uma
interação.

Mais ainda, para melhor funcionamento de aplicações como o uso de conteúdo
específico feito sob medida para cada usuário e situação é necessário coletar
informações contextuais. Para a maioria das aplicações, a informação contextual
de maior relevância é a localização física.

Este tipo de situação destaca a necessidade da criação desta informação através
de sensores ativos sempre que necessário para que o dispositivo tenha ciência
deste contexto em suas tomadas de decisão e para que outros (sistemas, pessoas e
coisas) saibam a localização de qualquer dispositivo ao qual têm interesse de
interagir.

Um exemplo da necessidade de localização de dispositivos dentro de um prédio
seria um profissional saber onde está o dispositivo em seu local de trabalho,
seja ele um vendedor e seu tablet para demostrar um produto fora de estoque em
uma loja ou um médico e um desfibrilador.

\subsection{Sobre Sistemas de Posicionamento}
\label{subsec:Sobre Sistemas de Posicionamento}

Sistemas de posicionamento (PS - \emph{Positioning System}) são geralmente
constituídos de um Ponto Origem Global escolhido (\emph{O}) e um conjuto não
vazio de Pontos de Referência (RP - \emph{Reference Point}) cuja localização
global em relação ao \emph{O} é conhecida com precisão maior ou igual a
oferecida pelo sistema.

Também faz parte do sistema o ponto móvel (MU - \emph{Mobile User}) sobre o
qual temos interesse em determinar a posição que é feita pelo PS encontrando uma
distância (com dimensão variável de acordo com o método utilizado para adquirir
a distância) relativa a um sub-conjunto de RPs. Feito isso, é possível utilizar
modelos matemáticos para, a partir das distâncias, encontrar uma posição do MU
em relação aos RPs e uma nova transformação é aplicada para encontrar a posição
relativa ao \emph{O}.

Uma das maneiras de classificar PSs é entre os de Auto Posicionamento e
Posicionamento Remoto. Os de Auto Posicionamento contém no MU todo aparato
necessário para medir a distância dos RPs e calcular a posição em relação a
\emph{O}. Já os de Posicionamento Remoto tem o mínimo necessário na MU e todo
o trabalho de cálculo de distância e posição global é feito nos RPs ou em uma
unidade coordenadora destes.

Para PSs eletrônicos baseados em radio-frequência (RF - \emph{Radio
Frequency}), geralmente, utilizam-se dois componentes básicos, Transmissores e
Receptores, os quais assume-se que ao menos um destes está no RP e ao menos um
outro no MU. Para calcular a distância entre MU e RP, utiliza-se as propriedades
da comunicação por RF como tempo de chegada (TOA - \emph{Time Of Arrival}),
diferencial de tempo de chegada (TDOA - \emph{Time Difference Of Arrival}) e
ângulo de chegada de sinal (AOA - \emph{Angle Of Arrival}).

Para maior precisão, é comum a utilização de múltiplas RPs geralmente com o
número mínimo igual ao número de dimensões espaciais que deseja-se calcular.
Nota que para sistemas distribuídos a sincronização de relógios é um problema
intrínseco então é fundamental que o tempo seja contado como dimensão.

Os sistemas classificados como ``Sistema de Navegação Global por Satélite''
(GNSS - \emph{Global Navigation Satellite System}), como o tradicional
Estadunidense Sistema de Posicionamento Global (GPS - \emph{Global Positioning
System}), utilizam a técnica em que o dispositivo móvel contém o receptor e os
transmissores são fixos em satélites na órbita terrestre \cite{Djuknic2001}.
Devido a posição e número de satélites, o GPS e seus correlatos estão sempre
presentes do ponto de vista de um observador da superfície terrestre, sendo para
este tipo de usuário um sistema ubíquo.

Entretanto, a força do sinal GNSS não é suficiente para penetrar a maioria dos
prédios, uma vez que estes dependem de visão direta (LOS -
\emph{Line-Of-Sight}) entre os satélites e o receptor. A reflexão do sinal
muitas vezes permite a leitura em ambientes fechados, porém o cálculo da posição
não será confiável \cite{Chen2000}. Portanto, apesar da ubiquidade dos
GNSSs em ambientes abertos, são necessárias soluções diferentes para obter um
Sistema de Posicionamento para Ambientes Fechados (IPS - \emph{Indoor
Positioning System}) sendo a ubiquidade deste essencial para conquistar o mesmo
nível de confiança trazido pelos GNSSs.

Para implementar este IPS, propoem-se o uso de tecnologias já implantadas em
dispositivos móveis e essenciais para o funcionamento dos mesmos, especialmente
as de camadas de comunicação, que são ubíquas no ambiente dos dispositivos
móveis, como \emph{Wi-Fi} (padrão \emph{IEEE 802.11}) e \emph{Bluetooth}
(padrão \emph{Bluetooth SIG}), para que os objetos conectados no qual tem-se
interesse de encontrar o contexto locativo não necessitem de modificações.

Outros protocolos de comunicação sem fio ubiquos existem (em especial o
celulares em todas as gerações 2G, 3G, 4G) porém não oferecem a mesma
flexibilidade por trabalharem em uma faixa de radio-frequência licenciada e por
questões de propriedade da rede que serão abordadas na seção de Localização
Contextual desta mesma obra.

De forma semelhante, existem protocolos mais flexíveis (nas faixas não
licenciadas como \emph{NFC}, infra-vermelho, \emph{ZigBee} ou
\emph{SIGFOX}) porém estes não estão presentes na maiora dos aparelhos
utilizados tanto globalmente quanto localmente removendo a característica da
forma de comunicação ubíquoa que é foco deste trabalho.

Devido as restrições anteriores justifica-se o foco nas tecnologias de
comunicação \emph{Wi-Fi} e \emph{Bluetooth} porém trabalhar com as duas
tecnologias simultaneamente é um problema complexo por si só, então, a escolha
de um ou outro apesar de a nível global serem de equivalente importância para
esta obra (ambas tem mesma importância e presença no mercado atual, permitem
flexibilidade por possuirem protocolos conhecidos por todos em frequencias
livres de licenciamento, dentro da área de cobertura que são de nosso interesse
e o usuário final já ser o proprietário da rede local criada) deve ser feita.
Esta escolha toma um único parametro como decisivo que é a observação do
ambiente de teste do protótipo onde pouco existe o uso de \emph{Bluetooth} que
reflete o costume local de mante-lo desligado e em comparação com \emph{Wi-Fi}
que está sempre ligado em todos dispositivos, conectando os mesmos diretamente à
internet. Portanto \emph{Wi-Fi} é a tecnologia de maior interesse por pequena
margem.
